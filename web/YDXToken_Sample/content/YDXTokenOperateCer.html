<html>
	<head>
		<title>YDXToken Plugin Examples</title>
		<style type="text/css">
		
			<!--  
 				body{text-align:center}
 				td {width:200px}
			-->	
		
		</style>
		
		<script src="js/YDXToken.js" type="text/javascript"></script>
		<script src="js/YDXTokenBasicOper.js" type="text/javascript"></script>
		
		
	</head>
	<body>
		<object id="YDXTokenPlugin" width="0" height="0">
    		<!-- <param value="pluginLoaded" /> -->
		</object>
		<h2>
			YDXToken基本信息
		</h2>
		<hr>	
		<p>
			<table align="center">
				<tr>
					<td>SKF列表：</td>
					<td >
						<select id="SKFInterface" style="width:450px">
							<option value="WTSKFInterface.dll">WTSKFInterface.dll</option>											
						</select>
					</td>	
					
					<td align="center"><input type="button" value="加载" style="width:120px" onClick="return InitializeLibraryNative()"/>
					</td>
					
				</tr>
				<tr>
					<td>容器列表：</td>
					<td>
						<select id="sele_contentList" style="width:450px">	
						</select>
					</td>	
					<td align="center"><input type="button" value="列举容器" style="width:120px" onClick="return GetUserList()"/>
					</td>
				</tr>
				<tr>
					<td>用户密码：</td>
					<td><input type="text" value="88888888" id="txt_pwd" name="pwd" style=" width:450px"/></td>					
					<td align="center"><input type="button" value="登陆" style="width:120px" onClick="return Login()"/></td>
					<td ><label id="tryCount"></></td>
				</tr>
				<tr>
					<td>修改用户密码：</td>
					<td><input type="text" value="" id="txt_Changepwd" name="pwd" style=" width:450px"/></td>					
					<td align="center"><input type="button" value="修改" style="width:120px" onClick="return ChangePassWd()"/></td>				
				</tr>
               
				<tr>
					<td>导出指定数字证书：</td>
					<td>
						<textarea id="cerInfo" row="3" cols="23" style="height:80px;width:450px"></textarea>
					</td>
					<td align="center">
						<select id="sele_cerType" style="width:120px">	
							<option value="0">加密证书</option>	
							<option value="1">签名证书</option>												
						</select>
					</td>
					<td >
						<input type="button" value="导出" style="width:120px" onClick="return ExportUserCert()"/>
					</td>
					
				</tr>
				
				<tr>
					<td>获取证书信息：</td>
					<td>
						<textarea id="showcerInfo" row="30" cols="23"  style="height:80px;width:450px"></textarea>
					</td>
					<td align="center"><input type="button" value="获取" style="width:120px" onClick="return GetCertInfo()"/></td>
					<td></td>
				</tr>
				
				<tr>
					<td>获取设备信息：</td>
					<td>
						<textarea id="deviceInfo" wrap="hard" row="30" cols="60" style=" height:80px;width:450px" name="infoCer"></textarea>
					</td>
					<td align="center"><input type="button" value="获取" style="width:120px" onClick="return GetDeviceInfo()"/></td>
					<td></td>
				</tr>
				
				
				<tr>
					<td>控件版本信息：</td>
					<td>
						<input type="text" id="contorlInfo" name="infoCer" style="width: 450px"></textarea>
					</td>
					<td align="center"><input type="button" value="获取" style="width:120px" onClick="return GetVersion()"/></td>
					<td></td>
				</tr>
				<!--
				<tr>
					<td>设备监控(注册之后需等待)：</td>
					<td>
						<input type="button" value="注册插拔事件" style="width:120px" onClick="return addDeviceEvent()"/>
					</td>
					<td align="center">
						<input type="button" value="等待设备事件" style="width:120px" onClick="return beginDeviceEvent()"/>
					</td>
					<td>
						<input type="button" value="取消设备监测" style="width:120px" onClick="return cancelDeviceEvent()"/>
					</td>
				</tr>
				-->
			</table>
		</p>	
		<hr>
		<h2>
			证书使用举例
		</h2>
		<hr>
		<table align="center">
			<tr>
			<td> 签名算法：</td>
			
			<td><select id="signMech">
						<option value="0x00010001">SGD_SM3_RSA</option>
						<option value="0x00010002">SGD_SHA1_RSA</option>
						<option value="0x00010004">SGD_SHA256_RSA</option>	
						<option value="0x00020201">SGD_SM3_SM2</option>							
					</select></td>
			<td><input type="button" value="设置签名算法" style="width:120px" onClick="return SetSignMethod()"/></td>
			<td><input type="button" value="获取签名算法" style="width:120px" onClick="return GetSignMethod()"/></td>
			</tr>
			
			<tr>
			<td>消息签名格式：</td>
			<td>
				<select id="sele_signType">
					<option value="0">带原文</option>
					<option value="1">不带原文</option>					
				</select>
			</td>
			</tr>
			
			<tr>
				<td>
					待签名数据：
				</td>
				<td>
					<textarea value="123456781234567812345678123456781234567812345678123456781234567812345678123456781234567812345678" id="originalData" row="3" cols="23" style="height:80px;width:450px"></textarea>
				</td>
				<td><input type="button" value="签名数据" style="width:120px" onClick="return SignData()"/></td>
				<td><input type="button" value="签名文件" style="width:120px" onClick="return SignFile()"/></td>
				<td><input type="button" value="签名消息" style="width:120px" onClick="return SignMessage()"/></td>
			</tr>
			
			<tr>
				<td>
					待签名XML：
				</td>
				<td>
					<textarea value="" id="originalDataXML" row="3" cols="23" style="height:80px;width:450px"></textarea>
				</td>
				<td><input type="button" value="签名XML" style="width:120px" onClick="return SignDataXML()"/></td>
			</tr>
			<tr>
				<td>签名后结果：</td>
				<td>
					<textarea id="signedData" row="3" cols="23" style="height:80px;width:450px"></textarea>
				</td>
				<td><input type="button" value="数据验签"style="width:120px" onClick="return VerifySignedData()"/></td>
				<td><input type="button" value="XML验签"style="width:120px" onClick="return VerifySignedDataXML()"/></td>
				<td><input type="button" value="文件验签"style="width:120px" onClick="return VerifySignedFile()"/></td>
				<td><input type="button" value="消息验签"style="width:120px" onClick="return VerifySignedMessage()"/></td>
			</tr>
			<br>
			
			<tr>
			<td> 加密算法：</td>
			<td><select id="encMech">
						<option value="0x00000101">SGD_SM1_ECB</option>
						<option value="0x00000102">SGD_SM1_CBC</option>
						<option value="0x00000104">SGD_SM1_CFB</option>	
						<option value="0x00000108">SGD_SM1_OFB</option>	
						
						<option value="0x00000201">SGD_SSF33_ECB</option>
						<option value="0x00000202">SGD_SSF33_CBC</option>
						<option value="0x00000204">SGD_SSF33_CFB</option>	
						<option value="0x00000208">SGD_SSF33_OFB</option>	
						
						<option value="0x00000401">SGD_SM4_ECB</option>
						<option value="0x00000402">SGD_SM4_CBC</option>
						<option value="0x00000404">SGD_SM4_CFB</option>	
						<option value="0x00000408">SGD_SM4_OFB</option>	

						
					</select></td>
			<td><input type="button" value="设置加密算法" style="width:120px" onClick="return SetEncryptMethod()"/></td>
			<td><input type="button" value="获取加密算法" style="width:120px" onClick="return GetEncryptMethod()"/></td>
			</tr>
			<tr>
				<td>非对称运算明文：</td>
				<td>
					<textarea id="AsymPlain" row="3" cols="23" style="height:80px;width:450px"></textarea>
				</td>
				<td><input type="button" value="公钥加密"style="width:120px" onClick="return encryptbyPubKey()"/></td>
				<td><input type="button" value="私钥解密"style="width:120px" onClick="return decryptbyPrvKey()"/></td>
			</tr>
			<tr>
				<td>非对称运算密文：</td>
				<td>
					<textarea id="AsymCipher" row="3" cols="23" style="height:80px;width:450px"></textarea>
				</td>
				<td></td>
			</tr>
			<br>
			
			<tr>
				<td>
					待加密数据：
				</td>
				<td>
					<input type="text" value="d:\test.txt" id="enFile" name="srcFile" style=" width:450px"/>
					<input type="text" value="d:\test.txt.cip" id="enDstFile" name="enDstFile" style=" width:450px"/>
				</td>
				
				<td><input type="button" value="数据加密" style="width:120px" onClick="return encryptData()"/></td>
				<td><input type="button" value="文件加密" style="width:120px" onClick="return encryptFile()"/></td>
			</tr>
			<tr>
				<td>加密后结果：</td>
				<td>
					<textarea id="enedData" row="3" cols="23" style="height:80px;width:450px"></textarea>
				</td>
				<td><input type="button" value="数据解密"style="width:120px" onClick="return decryptData()"/></td>
				<td><input type="button" value="文件解密"style="width:120px" onClick="return decryptFile()"/></td>
				
			</tr>
			<tr>
				<td>解密后数据:</td>
				<td>
					<input type="text" value="" id="deData" name="deData" style=" width:450px"/>
				</td>
				<td></td>
				<td></td>
			</tr>
		</table>	
	</body>
</html>